<header class="fixed top-0 left-0 w-full z-50 bg-[#232b36] text-white">
  <div class="max-w-7xl mx-auto px-3 sm:px-4">
    <div class="flex items-center justify-between h-12 sm:h-14 md:h-16">
      <a href="./index.html" class="flex items-center">
        <img src="./assets/Logo_lettering.svg" alt="Parazita Kusok"
          class="h-7 sm:h-8 md:h-9 object-contain logo-header">
      </a>

      <div class="hidden sm:flex flex-1 items-center justify-center mx-4 max-w-md">
        <div class="w-full relative">
          <input type="text" placeholder="Поиск"
            class="w-full h-8 rounded-full bg-[#1a212b] text-white pl-4 pr-10 text-sm focus:outline-none">
          <button class="absolute inset-y-0 right-0 px-3">
            <svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <circle cx="11" cy="11" r="8"></circle>
              <path d="M21 21l-4.35-4.35"></path>
            </svg>
          </button>
        </div>
      </div>


      <div class="hidden md:flex items-center gap-4">
        <div class="relative">
          <button id="contacts-dropdown" class="text-sm text-gray-300 hover:text-white flex items-center">
            Контакты
            <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </button>
          <div id="contacts-menu"
            class="absolute top-full right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50 hidden">
            <a href="./contacts.html" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Контакты</a>
            <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Услуги</a>
            <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Заказать дизайн</a>
          </div>
        </div>
        <span class="text-white font-medium text-sm">+7-812-942-52-87</span>

        <div class="flex items-center">
          <a href="./profile.html" class="ml-4">
            <svg class="w-5 h-5 sm:w-6 sm:h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round"
                d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
            </svg>
          </a>
          <a href="#" class="ml-4">
            <svg class="w-5 h-5 sm:w-6 sm:h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path
                d="M20.84 4.61a5.5 5.5 0 00-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 00-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 000-7.78z">
              </path>
            </svg>
          </a>
          <a href="./cart.html" class="ml-4 relative">
            <svg class="w-5 h-5 sm:w-6 sm:h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <circle cx="9" cy="21" r="1"></circle>
              <circle cx="20" cy="21" r="1"></circle>
              <path d="M1 1h4l2.68 13.39a2 2 0 002 1.61h9.72a2 2 0 002-1.61L23 6H6"></path>
            </svg>
            <span
              class="cart-count absolute -top-1 -right-1 bg-primary text-white text-xs rounded-full w-4 h-4 flex items-center justify-center hidden">0</span>
          </a>
        </div>
      </div>


      <div class="flex md:hidden items-center gap-3">
        <button class="sm:hidden" id="search-toggle">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <circle cx="11" cy="11" r="8"></circle>
            <path d="M21 21l-4.35-4.35"></path>
          </svg>
        </button>
        <a href="./profile.html" class="ml-1">
          <svg class="w-5 h-5 sm:w-6 sm:h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path
              d="M20.84 4.61a5.5 5.5 0 00-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 00-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 000-7.78z">
            </path>
          </svg>
        </a>
        <!-- Visible cart icon on mobile -->
        <a href="./cart.html" class="ml-1 relative" aria-label="Корзина">
          <svg class="w-5 h-5 sm:w-6 sm:h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <circle cx="9" cy="21" r="1"></circle>
            <circle cx="20" cy="21" r="1"></circle>
            <path d="M1 1h4l2.68 13.39a2 2 0 002 1.61h9.72a2 2 0 002-1.61L23 6H6"></path>
          </svg>
          <span
            class="cart-count absolute -top-1 -right-1 bg-primary text-white text-[10px] rounded-full w-4 h-4 flex items-center justify-center hidden">0</span>
        </a>
        <button class="ml-1 p-2 rounded focus:outline-none" id="menu-toggle" aria-label="Меню">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16"></path>
          </svg>
        </button>
      </div>
    </div>


    <div class="sm:hidden hidden py-2 mb-2" id="mobile-search">
      <div class="relative">
        <input type="text" placeholder="Поиск"
          class="w-full h-8 rounded-full bg-[#1a212b] text-white pl-4 pr-10 text-sm focus:outline-none">
        <button class="absolute inset-y-0 right-0 px-3">
          <svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <circle cx="11" cy="11" r="8"></circle>
            <path d="M21 21l-4.35-4.35"></path>
          </svg>
        </button>
      </div>
    </div>


    <nav class="hidden md:flex justify-between py-3 border-t border-[#2e3742] text-sm">
      <a href="#" class="hover:text-gray-300 transition">Стикербуки</a>
      <a href="#" class="hover:text-gray-300 transition">Стикерпаки</a>
      <a href="#" class="hover:text-gray-300 transition">Стикеры</a>
      <a href="#" class="hover:text-gray-300 transition">Наклейки на авто</a>
      <a href="#" class="hover:text-gray-300 transition">Наклейки на ноутбук</a>
      <a href="#" class="hover:text-gray-300 transition">Открытки</a>
      <a href="#" class="hover:text-gray-300 transition">Постеры</a>
    </nav>


    <nav
      class="hidden sm:flex md:hidden overflow-x-auto py-2 border-t border-[#2e3742] text-sm whitespace-nowrap hide-scrollbar">
      <a href="#" class="hover:text-gray-300 transition px-3 py-1">Стикербуки</a>
      <a href="#" class="hover:text-gray-300 transition px-3 py-1">Стикерпаки</a>
      <a href="#" class="hover:text-gray-300 transition px-3 py-1">Стикеры</a>
      <a href="#" class="hover:text-gray-300 transition px-3 py-1">Наклейки на авто</a>
      <a href="#" class="hover:text-gray-300 transition px-3 py-1">Наклейки на ноутбук</a>
      <a href="#" class="hover:text-gray-300 transition px-3 py-1">Открытки</a>
      <a href="#" class="hover:text-gray-300 transition px-3 py-1">Постеры</a>
    </nav>
  </div>


  <nav
    class="fixed top-0 right-0 w-[86%] max-w-sm h-full bg-[#232b36] text-gray-100 shadow-2xl px-4 py-5 md:hidden border-l border-[#2e3742] transform translate-x-full transition-transform duration-300 ease-in-out z-[100] hidden rounded-l-2xl flex flex-col overflow-hidden"
    id="mobile-menu">
    <div class="flex items-center justify-between mb-1">
      <img src="./assets/Logo_lettering.svg" alt="Parazita Kusok" class="h-6 ml-2">
      <button id="menu-close" class="p-2 rounded-lg hover:bg-white/10" aria-label="Закрыть">
        <svg class="w-6 h-6 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
    </div>
    <div class="flex-1 overflow-y-auto hide-scrollbar">
      <div class="py-2 space-y-1">
        <a href="#"
          class="flex items-center justify-between px-3 py-3 rounded-xl hover:bg-white/5 text-sm font-medium text-gray-100">
          <span class="flex items-center gap-3">
            <svg class="w-5 h-5 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6"
                d="M12 6.253v13M12 6.253C10.832 5.477 9.246 5 7.5 5 5.754 5 4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18c1.746 0 3.332.477 4.5 1.253M12 6.253C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
            </svg>
            Стикербуки
          </span>
          <svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
        </a>
        <a href="#"
          class="flex items-center justify-between px-3 py-3 rounded-xl hover:bg-white/5 text-sm font-medium text-gray-100">
          <span class="flex items-center gap-3">
            <svg class="w-5 h-5 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6" d="M4 6h16M4 12h16M4 18h16" />
            </svg>
            Стикерпаки
          </span>
          <svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
        </a>
        <a href="#"
          class="flex items-center justify-between px-3 py-3 rounded-xl hover:bg-white/5 text-sm font-medium text-gray-100">
          <span class="flex items-center gap-3">
            <svg class="w-5 h-5 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6"
                d="M7 7h.01M7 11h.01M7 15h.01M11 7h2a4 4 0 110 8h-2v4H9V7h2z" />
            </svg>
            Стикеры
          </span>
          <svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
        </a>
        <a href="#"
          class="flex items-center justify-between px-3 py-3 rounded-xl hover:bg-white/5 text-sm font-medium text-gray-100">
          <span class="flex items-center gap-3">
            <svg class="w-5 h-5 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6"
                d="M3 13h2l1-2h12l1 2h2m-4 0a3 3 0 11-6 0m6 0a3 3 0 11-6 0M5 13a3 3 0 11-6 0 3 3 0 016 0z" />
            </svg>
            Наклейки на авто
          </span>
          <svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
        </a>
        <a href="#"
          class="flex items-center justify-between px-3 py-3 rounded-xl hover:bg-white/5 text-sm font-medium text-gray-100">
          <span class="flex items-center gap-3">
            <svg class="w-5 h-5 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6" d="M4 16h16M3 7h18M6 20h12" />
            </svg>
            Наклейки на ноутбук
          </span>
          <svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
        </a>
        <a href="#"
          class="flex items-center justify-between px-3 py-3 rounded-xl hover:bg-white/5 text-sm font-medium text-gray-100">
          <span class="flex items-center gap-3">
            <svg class="w-5 h-5 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6"
                d="M3 8l9 6 9-6M21 8v8a2 2 0 01-2 2H5a2 2 0 01-2-2V8" />
            </svg>
            Открытки
          </span>
          <svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
        </a>
        <a href="#"
          class="flex items-center justify-between px-3 py-3 rounded-xl hover:bg-white/5 text-sm font-medium text-gray-100">
          <span class="flex items-center gap-3">
            <svg class="w-5 h-5 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6" d="M4 16l4-6 4 5 4-3 4 6H4z" />
            </svg>
            Постеры
          </span>
          <svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
        </a>
      </div>

      <div class="my-3 border-t border-[#2e3742]"></div>

      <div class="space-y-1">
        <a href="./profile.html"
          class="flex items-center justify-between px-3 py-3 rounded-xl hover:bg-white/5 text-sm font-medium text-gray-100">
          <span class="flex items-center gap-3">
            <svg class="w-5 h-5 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round"
                d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
            </svg>
            Личный кабинет
          </span>
          <svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
        </a>
        <a href="./cart.html"
          class="flex items-center justify-between px-3 py-3 rounded-xl hover:bg-white/5 text-sm font-medium text-gray-100">
          <span class="flex items-center gap-3">
            <svg class="w-5 h-5 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <circle cx="9" cy="21" r="1"></circle>
              <circle cx="20" cy="21" r="1"></circle>
              <path d="M1 1h4l2.68 13.39a2 2 0 002 1.61h9.72a2 2 0 002-1.61L23 6H6"></path>
            </svg>
            Корзина
          </span>
          <span
            class="cart-count bg-primary text-white text-xs rounded-full w-5 h-5 flex items-center justify-center hidden">0</span>
        </a>
        <a href="#"
          class="flex items-center justify-between px-3 py-3 rounded-xl hover:bg-white/5 text-sm font-medium text-gray-100">
          <span class="flex items-center gap-3">
            <svg class="w-5 h-5 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path
                d="M20.84 4.61a5.5 5.5 0 00-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 00-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 000-7.78z">
              </path>
            </svg>
            Избранное
          </span>
          <svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
        </a>
      </div>

      <div class="my-3 border-t border-[#2e3742]"></div>

      <div class="space-y-1">
        <a href="./contacts.html"
          class="flex items-center justify-between px-3 py-3 rounded-xl hover:bg-white/5 text-sm font-medium text-gray-100">
          <span class="flex items-center gap-3">
            <svg class="w-5 h-5 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
            </svg>
            Контакты
          </span>
          <svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
        </a>
      </div>
    </div>

    <div class="pt-3 border-t border-[#2e3742] mt-auto">
      <div class="flex justify-center gap-4 py-3 pb-5">
        <a href="#" aria-label="Telegram"><img src="./assets/icn_logo_tg.svg" alt="Telegram" class="w-8 h-8"></a>
        <a href="#" aria-label="VK"><img src="./assets/icn_logo_vk.svg" alt="VK" class="w-8 h-8"></a>
      </div>
    </div>
  </nav>


  <div id="menu-backdrop" class="fixed inset-0 bg-black bg-opacity-50 z-[90] hidden md:hidden"></div>

  <style>
    .hide-scrollbar::-webkit-scrollbar {
      display: none;
    }

    .hide-scrollbar {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }

    /* prevent content scroll when menu open */
    .overflow-hidden {
      overflow: hidden;
    }
  </style>

  <style id="mobile-global-bg">
    @media (max-width: 640px) {
      body {
        background-color: #F3F5F9 !important;
      }
    }
  </style>

  <style id="global-theme">
    :root {
      --app-bg: #F3F5F9;
    }

    body {
      background-color: var(--app-bg) !important;
    }

    .header-spacer {
      background-color: var(--app-bg) !important;
    }

    img[alt="Добавить в корзину"] {
      width: 72px;
      height: 36px;
      display: block;
    }
  </style>

  <script>
    const mobileMenu = document.getElementById('mobile-menu');
    const backdrop = document.getElementById('menu-backdrop');
    const menuToggle = document.getElementById('menu-toggle');
    const menuClose = document.getElementById('menu-close');

    const openMenu = () => {
      mobileMenu.classList.remove('hidden', 'translate-x-full');
      mobileMenu.classList.add('translate-x-0');
      backdrop.classList.remove('hidden');
      document.body.classList.add('overflow-hidden');
    };

    const closeMenu = () => {
      mobileMenu.classList.remove('translate-x-0');
      mobileMenu.classList.add('translate-x-full');
      backdrop.classList.add('hidden');
      document.body.classList.remove('overflow-hidden');
      // Скрываем после анимации
      setTimeout(() => mobileMenu.classList.add('hidden'), 300);
    };

    menuToggle.addEventListener('click', () => {
      if (mobileMenu.classList.contains('translate-x-full')) {
        openMenu();
      } else {
        closeMenu();
      }
    });

    menuClose.addEventListener('click', closeMenu);
    backdrop.addEventListener('click', closeMenu);

    document.getElementById('search-toggle')?.addEventListener('click', () => {
      document.getElementById('mobile-search').classList.toggle('hidden');
    });

    const contactsDropdown = document.getElementById('contacts-dropdown');
    const contactsMenu = document.getElementById('contacts-menu');

    const toggleContactsMenu = () => {
      contactsMenu.classList.toggle('hidden');
    };

    const closeContactsMenu = () => {
      contactsMenu.classList.add('hidden');
    };

    contactsDropdown.addEventListener('click', (e) => {
      e.stopPropagation();
      toggleContactsMenu();
    });

    document.addEventListener('click', (e) => {
      if (!contactsDropdown.contains(e.target) && !contactsMenu.contains(e.target)) {
        closeContactsMenu();
      }
    });

    contactsMenu.addEventListener('click', (e) => {
      e.stopPropagation();
    });
  </script>
</header>